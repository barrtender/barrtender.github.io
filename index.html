<script src="teams.js"></script>
<script src="glicko.js"></script>
<script src="random.js"></script>
<!-- playGame depends on glicko -->
<script src="playGame.js"></script>
<!-- groups depends on playGame -->
<script src="groups.js"></script>
<script>
// Making an International 2018 prediction based on glicko 2 ratings

function winChance(team1, team2) {
    return e(team1.u, team2.u, team2.t);
}

const random = new Random();

console.log("hi");
console.log(`VP's chance against OG is: ${winChance(TEAMS["VP"], TEAMS["OG"])}`);

console.log(`and they ${winChance(TEAMS["VP"], TEAMS["OG"]) >= random.next() ? 'did!' : 'did not!'}`);
console.log(`vp vs og = ${playGame(TEAMS["VP"], TEAMS["OG"], random).name}`);
console.log(`vp vs og bo2 = ${playBO2(TEAMS["VP"], TEAMS["OG"], random)}`);

const g1 = new Groups(groupA, random);
const g2 = new Groups(groupB, random);
const g1Results = g1.runGroup();
const g2Results = g2.runGroup();

const g1ResultsList = Object.keys(g1Results).map((teamName) => {
    return {
        name: teamName,
        points: g1Results[teamName]
    };
}).sort((a, b) => a.points < b.points);
const g2ResultsList = Object.keys(g2Results).map((teamName) => {
    return {
        name: teamName,
        points: g2Results[teamName]
    };
}).sort((a, b) => a.points < b.points);

console.log(g1ResultsList.map(a => `${a.name}: ${a.points}`));
console.log(g2ResultsList.map(a => `${a.name}: ${a.points}`));

console.log(`${g1ResultsList.slice(-1)[0].name} was eliminated`);
console.log(`${g2ResultsList.slice(-1)[0].name} was eliminated`);



</script>
Hello World

